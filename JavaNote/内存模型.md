# 内存模型（JMM）
 在java语言中，采用共享内存模型来实现多线程之间的信息交换和数据同步。即内存模型的产生是为了让应用程序免于数据竞争的干扰。
 线程之间通过共享程序公共的状态，通过读-写内存中公共状态的方式来进行隐式的通信。同步指的是程序在控制多个线程之间执行程序的相对顺序的机制，在共享内存模型中，同步是显示的，程序员必须显式指定某个方法、代码块需要在多线程之间互斥执行。
 注意：java的内存结构，也就是运行时的数据区域区别于java内存模型。二者不是一个概念！
## 主内存和工作内存
 java内存模型中的主要目标是定义程序中各个变量的访问规则，即在jvm中将变量存储到内存和从内存中取出变量这样的底层细节。这里的变量不包含局部变量和方法参数，因为这二者是线程私有的，不会共享，也就不存在数据竞争问题。     
 JMM规定所有的变量都存储在主内存中，每个线程还有自己的工作内存，线程的工作内存中保存了该线程使用到的变量的主内存的副本拷贝，线程对变量的所有操作都必须在工作内存中进行，而不能直接读写主内存中的变量。不同线程之间也无法直接访问对方工作内存中的变量，线程之间的传递都需要通过主内存来完成。    
 ![](https://github.com/FantasmYi/CodeMonkeyNote/blob/master/image/JMM.png)   
